
# apm-server.yml

apm-server:
  host: "0.0.0.0:8200"

output.elasticsearch:
  hosts:
    - "https://es01:9200"
    - "https://es02:9200"
    - "https://es03:9200"
  username: "elastic"
  password: "changeme"
  ssl:
    verification_mode: none

setup.kibana:
  host: "https://kibana:5601"
  ssl.verification_mode: none

logging:
  level: info
  to_files: true
  files:
    path: /var/log/apm-server
    name: apm-server.log
    keepfiles: 7
    permissions: 0644

monitoring:
  enabled: true
  elasticsearch:
    hosts:
      - "https://es01:9200"
      - "https://es02:9200"
      - "https://es03:9200"
    username: "elastic"
    password: "changeme"
    ssl:
      verification_mode: none

# Optional: Retry configuration for HA resilience
queue:
  mem:
    events: 4096

output:
  elasticsearch:
    worker: 1
    bulk_max_size: 50
    compression_level: 3

# Optional: Add APM Server secret token if using token auth
# apm-server:
#   secret_token: "your_secret_token_here"
